{% extends "base.html" %}

{% block content %}
    <h1 align="center">Add questions</h1>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div class="flash-success">
                {% for msg in messages %}
                    <p align="center">{{msg}}</p>
                {% endfor %}
            </div>  
            {% endif %}
        {% endwith %}

        <div class="form">
            <form action="" method="POST">
                <div>
                    <label for="category">Category:</label>
                    <select name="category" id="category" onchange="this.form.submit()">
                        <option value="{{ session.db_category_id }}">{% if not session.db_selected_category %}-- Select a Category --{% else %}{{session.db_selected_category}} {% endif %}</option>
                        {% for category, category_id in categories.items() %}
                            <option value="{{ category_id }}">{{ category }}</option>
                        {% endfor %}
                    </select>
                </div>
            </form>
            
            <form action="" method="POST">
                <div>
                    <label for="topic" id="topic">Topic:</label>
                    <select name="topic" id="topic" onchange="this.form.submit()">
                        <option value="{{ session.db_topic_id }}">{% if not session.db_selected_topic %}-- Select a Topic --{% else %}{{session.db_selected_topic}} {% endif %}</option>
                        {% for topic, topic_id in topics.items() %}
                            <option value="{{ topic_id }}">{{ topic }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div>
                    <label for="question" id="question">Question:</label>
                    <input type="text" name="question" >
                </div>

                <div>
                    <label for="answer1">Answer 1:</label>
                    <input type="text" name="answer1" id="answer1">
                </div>

                <div>
                    <label for="answer2">Answer 2:</label>
                    <input type="text" name="answer2" id="answer2">
                </div>

                <div>
                    <label for="answer3">Answer 3:</label>
                    <input type="text" name="answer3" id="answer3">
                </div>

                <div>
                    <label for="answer4">Answer 4:</label>
                    <input type="text" name="answer4" id="answer4">
                </div>

                <div>
                    <label for="correct">Correct:</label>
                    <select type="number" name="correct" id="correct">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </div>

                <div class="btn-box">
                    <button type="reset" class="btn primary">Clear</button>
                    <button type="submit" name="quiz_db" value="add" class="btn primary">Add Question</button>
                </div>
            </form>
        </div>
{% endblock %}
